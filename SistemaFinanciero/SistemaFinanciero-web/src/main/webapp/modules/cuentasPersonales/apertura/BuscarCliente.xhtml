<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui">

<ui:composition template="/WEB-INF/templates/defaultLayout.xhtml">

	<!-- Definiendo la cabecera de la pagina -->
	<ui:define name="title">
		<h:outputText value="COOP" />
	</ui:define>

	<!-- content -->
	<ui:define name="menu-left">
		<ui:include src="/WEB-INF/menus/cuentasMenu.xhtml" />
	</ui:define>


	<!-- Definiendo el cuerpo de la pagina -->
	<ui:define name="content">

		<div class="sf-content-cabecera">
			<h2>Buscar Cliente</h2>
		</div>

		<h:form>		
			<p:growl id="growl" sticky="true" />
			
			<div class="sf-agrupador-content">
				<div class="sf-agrupador-content-table">
					<table>
						<tbody>
							<tr>
								<td><h:outputLabel>Buscar:</h:outputLabel></td>
								<td>
									<p:inputText id="txtBuscar" 
										value="#{personaNaturalClienteMB.valorBusqueda}" 
										size="80" 
										required="true" > 
										<p:ajax update="growl" event="keyup" />
									</p:inputText>
									<p:watermark value="search for" for="txtBuscar" />
								</td>
								<td>
									<p:commandButton value="buscar"  
										actionListener="#{personaNaturalClienteMB.buscarCliente()}" 
										update=":form-resultadoBusqueda"/>
								</td>
								<td>
									<p:selectOneMenu>
										<f:selectItem itemLabel="Persona natural"/>
									</p:selectOneMenu>
								</td>
							</tr>
						</tbody>
					</table>
				</div>
			</div>			
		</h:form>
						
		<div class="buttons">
			<h:form>
				<div class="tiptip">
					<h:commandLink styleClass="button left" title="Nuevo Trabajador"
						onclick="dlgCrearTrabajador.show();return false;">
						<span class="icon icon3"></span>
						<span class="label">Nuevo</span>
					</h:commandLink>
					
					<h:link styleClass="button middle" title="Editar Trabajador" outcome="pruebita" target="_blank" >
				    	<span class="icon icon145"></span>
						<span class="label">Editar</span>	
				    	<f:param name="prueba" value="123" />
					</h:link>

					<h:commandLink action="#" styleClass="button right"
						title="Eliminar Trabajador">
						<span class="icon icon186"></span>
						<span class="label">Eliminar</span>
					</h:commandLink>
				</div>
				<div class="dropdown">
					<h:outputLink styleClass="button">
						<span class="icon icon96">&nbsp;</span>
						<span class="label">Otros</span>
						<span class="toggle">&nbsp;</span>
					</h:outputLink>
					<div class="dropdown-slider">
						<h:commandLink action="#" styleClass="ddm">
							<span class="icon icon96">&nbsp;</span>
							<span class="label">Vacaciones</span>
						</h:commandLink>
						<h:commandLink action="#" styleClass="ddm">
							<span class="icon icon96">&nbsp;</span>
							<span class="label">Mas</span>
						</h:commandLink>
						<h:commandLink action="#" styleClass="ddm">
							<span class="icon icon96">&nbsp;</span>
							<span class="label">Mas</span>
						</h:commandLink>
					</div>
					<!-- /.dropdown-slider -->
				</div>
				<!-- /.dropdown -->
			</h:form>
		</div>

		<div style="padding: 0px 5px;">
			<h:form id="form-resultadoBusqueda">
				<div>
					<p:dataTable id="table" var="cliente"
						value="#{personaNaturalClienteMB.tablaClientes.rows}"
						rowKey="#{cliente}"
						selection="#{personaNaturalClienteMB.tablaClientes.selectedRow}"
						selectionMode="single" paginator="true" paginatorPosition="bottom"
						rows="5" sortBy="#{cliente.personanatural.apellidopaterno}"
						paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
						rowsPerPageTemplate="5,10,20" widgetVar="tablaCliente"
						 filteredValue="">
														
						<p:ajax event="rowSelect" listener="#{personaNaturalClienteMB.tablaClientes.rowSelect()}"/>   
						
						
						<p:column sortBy="#{cliente.dni}" headerText="DNI">
							<h:outputText value="#{cliente.dni}" />
						</p:column>

						<p:column sortBy="#{cliente.personanatural.apellidopaterno}"
							headerText="Apellido Paterno">
							<h:outputText value="#{cliente.personanatural.apellidopaterno}" />
						</p:column>

						<p:column sortBy="#{cliente.personanatural.apellidomaterno}"
							headerText="APellido Materno">
							<h:outputText value="#{cliente.personanatural.apellidomaterno}" />
						</p:column>

						<p:column sortBy="#{cliente.personanatural.nombres}"
							headerText="Nombres">
							<h:outputText value="#{cliente.personanatural.nombres}" />
						</p:column>
					</p:dataTable>

				</div>
			</h:form>
		</div>

	</ui:define>
</ui:composition>
</html>
