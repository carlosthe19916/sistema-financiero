<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui">

<ui:composition>
	<h:form>
		<p:dialog id="#{componentName}" header="Persona JurÃ­dica"
			widgetVar="#{componentName}" modal="true" height="630" rendered="#{aperturarCuentaAhorrosMB.personaJuridica}">

			<p:tabView id="tabView">
				<p:tab id="tab1" title="Datos Importantes">
					<div class="sf-agrupador">
						<div class="sf-agrupador-content">
							<p:growl id="growl" sticky="true" />
							<div class="sf-agrupador-content-cabecera">
								<h3>DATOS DE LA EMPRESA</h3>
							</div>
							<div class="sf-agrupador-content-table">
								<table>
									<tr>
										<td><p:outputLabel>RUC:</p:outputLabel></td>
										<td><p:inputText id="txtRucPJ" required="true" value="#{aperturarCuentaAhorrosMB.personaJuridicaMB.oPersonajuridica.ruc}" maxlength="11" requiredMessage="Ingrese Numero de RUC" validatorMessage="El RUC tiene 11 digitos"  >
										<f:validateLength minimum="11"></f:validateLength>
										<p:ajax update="growl" event="keyup"/>
										</p:inputText>
										<p:watermark for="txtRucPJ" value="RUC"/>
										<p:outputLabel styleClass="">  *</p:outputLabel></td>
										
									</tr>
									<tr>
										<td><p:outputLabel>Razon Social:</p:outputLabel></td>
										<td><p:inputText id="txtRazonsocialPJ" required="true" requiredMessage="Ingrese Razon Social"   size="55"
												value="#{aperturarCuentaAhorrosMB.personaJuridicaMB.oPersonajuridica.razonsocial}" >
												<p:ajax update="growl" event="keyup"/>
												</p:inputText>
												<p:watermark for="txtRazonsocialPJ" value="Razon Social"/>
												<p:outputLabel styleClass="">  *</p:outputLabel></td>
												
									</tr>
									<tr>
										<td><p:outputLabel>Nombre Comercial:</p:outputLabel></td>
										<td><p:inputText id="txtNombreComercialPJ"  size="55"
												value="#{aperturarCuentaAhorrosMB.personaJuridicaMB.oPersonajuridica.nombrecomercial}" >
												<p:ajax update="growl" event="keyup"/>
												</p:inputText></td>										
									</tr>
									<tr>
										<td><p:outputLabel>Actividad Principal:</p:outputLabel></td>
										<td><p:inputText id="txtActividadPrincipalPJ" size="55" 
												value="#{aperturarCuentaAhorrosMB.personaJuridicaMB.oPersonajuridica.actividadprincipal}" >
												<p:ajax update="growl" event="keyup"/>
												</p:inputText></td>
										
									</tr>
								</table>
							</div>
						</div>
					</div>

					<div class="sf-agrupador">
						<div class="sf-agrupador-content">
							<div class="sf-agrupador-content-cabecera">
								<h3>DATOS COMERCIALES DE LA EMPRESA</h3>
							</div>
							<div class="sf-agrupador-content-table">

								<table>
									<tr>
										<td><p:outputLabel>Tipo de empresa:</p:outputLabel></td>
										<td><p:selectOneRadio id="radioTipoempresaPJ"
												value="#{aperturarCuentaAhorrosMB.personaJuridicaMB.comboTipoempresa.itemSelected}" 
												valueChangeListener="#{aperturarCuentaAhorrosMB.personaJuridicaMB.changeTipoempresa}" >
												<f:selectItems
													value="#{aperturarCuentaAhorrosMB.personaJuridicaMB.comboTipoempresa.items.entrySet()}"
													var="val1" itemLabel="#{val1.value.denominacion}"
													itemValue="#{val1.key}" />												
											</p:selectOneRadio></td>												
									</tr>
									<tr>
										<td><p:outputLabel>Fin social:</p:outputLabel></td>
										<td><p:selectOneRadio id="radioFinsocial" 
												value="#{aperturarCuentaAhorrosMB.personaJuridicaMB.oPersonajuridica.finsocial}" >
												<f:selectItem itemLabel="CON FINES DE LUCRO" itemValue="true" />
												<f:selectItem itemLabel="SIN FINES DE LUCRO" itemValue="false" />												
											</p:selectOneRadio></td>
									</tr>

								</table>

							</div>
						</div>
					</div>

					<div class="sf-agrupador">
						<div class="sf-agrupador-content">
							<div class="sf-agrupador-content-cabecera">
								<h3>DATOS ADICIONALES</h3>
							</div>
							<div class="sf-agrupador-content-table">
								<table>
									<tr>
										<td colspan="1"><p:outputLabel>Direccion:</p:outputLabel></td>
										<td><p:inputText id="txtDireccionPJ"
												value="#{aperturarCuentaAhorrosMB.personaJuridicaMB.oPersonajuridica.direccion}"
												size="50" /></td>
									</tr>

									<tr>
										<td colspan="1"><p:outputLabel>Referencia:</p:outputLabel></td>
										<td><p:inputText id="txtReferenciaPJ"
												value="#{aperturarCuentaAhorrosMB.personaJuridicaMB.oPersonajuridica.referencia}"
												size="50" /></td>
									</tr>
									<tr>
										<td colspan="1"><p:outputLabel>Email:</p:outputLabel></td>
										<td><p:inputText id="TxtEmailPJ"
												value="#{aperturarCuentaAhorrosMB.personaJuridicaMB.oPersonajuridica.email}"
												size="50" /></td>
									</tr>

									<tr>
										<td><p:outputLabel>Telefono:</p:outputLabel></td>
										<td><p:inputText id="txtTelefonoPJ"
												value="#{aperturarCuentaAhorrosMB.personaJuridicaMB.oPersonajuridica.telefono}"
												size="" /></td>
										<td><p:outputLabel>Celular:</p:outputLabel></td>
										<td><p:inputText id="txtCelularPJ"
												value="#{aperturarCuentaAhorrosMB.personaJuridicaMB.oPersonajuridica.celular}"
												size="" /></td>
									</tr>

									<tr>

									</tr>


								</table>
							</div>
						</div>
					</div>

					<div class="sf-buttons">
						<p:commandButton update=":#{componentToUpdated}" value="Aceptar"
							oncomplete="#{componentName}.hide()" styleClass="action green"
							onclick="#{componentName}.hide()" />
						<p:commandButton value="Cancelar"
							onclick="#{componentName}.hide()" styleClass="action" />
					</div>
				</p:tab>


				<p:tab id="tab3" title="Representante Legal">
					<div id="panelRepresentanteLegal">
						<div class="sf-agrupador">
							<div class="sf-agrupador-content">
								<div class="sf-agrupador-content-cabecera">
									<h3>DATOS PERSONALES</h3>
								</div>
								<div class="sf-agrupador-content-table">
									<table>
										<tr>
											<td><p:outputLabel>DNI:</p:outputLabel></td>
											<td><p:inputText
													value="#{aperturarCuentaAhorrosMB.personaJuridicaMB.oPersonajuridica.personanatural.dni}" />
											</td>
										</tr>
										<tr>
											<td><p:outputLabel>Apellido Paterno:</p:outputLabel></td>
											<td><p:inputText
													value="#{aperturarCuentaAhorrosMB.personaJuridicaMB.oPersonajuridica.personanatural.apellidopaterno}" />
											</td>
											<td><p:outputLabel>Apellido Materno:</p:outputLabel></td>
											<td><p:inputText
													value="#{aperturarCuentaAhorrosMB.personaJuridicaMB.oPersonajuridica.personanatural.apellidomaterno}" />
											</td>
										</tr>
										<tr>
											<td><p:outputLabel>Nombres:</p:outputLabel></td>
											<td colspan="3"><p:inputText
													value="#{aperturarCuentaAhorrosMB.personaJuridicaMB.oPersonajuridica.personanatural.nombres}"
													size="71" /></td>
										</tr>
										<tr>
											<td><p:outputLabel>Fecha Nacimiento:</p:outputLabel></td>
											<td><p:calendar id="txtFechaNacimientoPN"
													value="#{aperturarCuentaAhorrosMB.personaJuridicaMB.oPersonajuridica.personanatural.fechanacimiento}" />
												<p:watermark for="txtFechaNacimientoPN" value="dd/mm/yyyy" />
											</td>
											<td><p:outputLabel>Sexo:</p:outputLabel></td>
											<td><h:form>
													<p:selectOneMenu
														value="#{aperturarCuentaAhorrosMB.personaJuridicaMB.comboSexo.itemSelected}"
														valueChangeListener="#{aperturarCuentaAhorrosMB.personaJuridicaMB.changeSexo}">
														<f:selectItem itemLabel="--Seleccione--" itemValue="" />
														<f:selectItems
															value="#{aperturarCuentaAhorrosMB.personaJuridicaMB.comboSexo.items.entrySet()}"
															var="val" itemLabel="#{val.value.denominacion}"
															itemValue="#{val.key}" />
														<p:ajax></p:ajax>
													</p:selectOneMenu>
												</h:form></td>
										</tr>
									</table>
								</div>
							</div>
						</div>
						<div class="sf-agrupador">
							<div class="sf-agrupador-content">
								<div class="sf-agrupador-content-cabecera">
									<h3>DATOS ADICIONALES</h3>
								</div>
								<div class="sf-agrupador-content-table">
									<table>

										<tr>
											<td><p:outputLabel>Estado Civil:</p:outputLabel></td>
											<td><p:selectOneMenu
													value="#{aperturarCuentaAhorrosMB.personaJuridicaMB.comboEstadocivil.itemSelected}"
													valueChangeListener="#{aperturarCuentaAhorrosMB.personaJuridicaMB.changeEstadoCivil}">
													<f:selectItem itemLabel="--Seleccione--" itemValue="" />
													<f:selectItems
														value="#{aperturarCuentaAhorrosMB.personaJuridicaMB.comboEstadocivil.items.entrySet()}"
														var="val" itemLabel="#{val.value.denominacion}"
														itemValue="#{val.key}" />
													<p:ajax></p:ajax>
												</p:selectOneMenu></td>
										</tr>

										<tr>
											<td><p:outputLabel>Ocupacion:</p:outputLabel></td>
											<td colspan="3"><p:inputText
													value="#{aperturarCuentaAhorrosMB.personaJuridicaMB.oPersonajuridica.personanatural.ocupacion}"
													size="71" /></td>
										</tr>
										<tr>
											<td><p:outputLabel>Direccion:</p:outputLabel></td>
											<td colspan="5"><p:inputText
													value="#{aperturarCuentaAhorrosMB.personaJuridicaMB.oPersonajuridica.personanatural.direccion}"
													size="71">
												</p:inputText></td>
										</tr>
										<tr>
											<td><p:outputLabel>Referencia:</p:outputLabel></td>
											<td colspan="5"><p:inputText
													value="#{aperturarCuentaAhorrosMB.personaJuridicaMB.oPersonajuridica.personanatural.referencia}"
													size="71" /></td>
										</tr>

										<tr>
											<td><p:outputLabel>Telefono:</p:outputLabel></td>
											<td><p:inputText
													value="#{aperturarCuentaAhorrosMB.personaJuridicaMB.oPersonajuridica.personanatural.telefono}" />
											</td>
											<td><p:outputLabel>Celular:</p:outputLabel></td>
											<td><p:inputText
													value="#{aperturarCuentaAhorrosMB.personaJuridicaMB.oPersonajuridica.personanatural.celular}" />
											</td>
										</tr>
										<tr>
											<td><p:outputLabel>Email:</p:outputLabel></td>
											<td colspan="5"><p:inputText
													value="#{aperturarCuentaAhorrosMB.personaJuridicaMB.oPersonajuridica.personanatural.email}"
													size="73" /></td>
										</tr>
									</table>
								</div>
							</div>
						</div>

						<div class="sf-buttons">
							<p:commandButton update=":#{componentToUpdated}" value="Aceptar"
								oncomplete="#{componentName}.hide()" styleClass="action green" />
							<p:commandButton value="Cancelar"
								onclick="#{componentName}.hide()" styleClass="action" />
						</div>
					</div>
				</p:tab>

				<p:tab id="tab2" title="Accionistas">
					<div class="sf-agrupador">
						<div class="sf-agrupador-content">
							<div class="sf-agrupador-content-cabecera">
								<h3>Datos de los Accionistas</h3>
							</div>
							<div class="sf-agrupador-content-table">
								<table>

									<tr>
										<td colspan="2">
											<div class="buttons">
												<div class="tiptip">
													<p:commandLink update="tablaAccionistas"
														actionListener="#{aperturarCuentaAhorrosMB.personaJuridicaMB.addAccionista()}"
														styleClass="button left" title="Nuevo">
														<span class="icon icon3"></span>
														<span class="label">Nuevo</span>
													</p:commandLink>
													<p:commandLink onclick="editar" styleClass="button middle"
														title="Nuevo">
														<span class="icon icon145"></span>
														<span class="label">Editar</span>
													</p:commandLink>
													<p:commandLink update="tablaAccionistas"
														actionListener="#{aperturarCuentaAhorrosMB.personaJuridicaMB.removeAccionista()}"
														styleClass="button right" title="Eliminar Trabajador">
														<span class="icon icon186"></span>
														<span class="label">Eliminar</span>
													</p:commandLink>
												</div>
											</div>
											<div>
												<p:dataTable id="tablaAccionistas"
													value="#{aperturarCuentaAhorrosMB.personaJuridicaMB.tablaAccionistas.rows}"
													var="accionista" editable="true" selectionMode="single"
													selection="#{aperturarCuentaAhorrosMB.personaJuridicaMB.tablaAccionistas.selectedRow}"
													rowKey="#{accionista}">
													<p:column headerText="DNI(*)" width="50">
														<p:cellEditor>
															<f:facet name="output">
																<h:outputText value="#{accionista.personanatural.dni}" />
															</f:facet>
															<f:facet name="input">
																<p:inputText value="#{accionista.personanatural.dni}" />
															</f:facet>
														</p:cellEditor>
													</p:column>
													<p:column headerText="Apellido Paterno" width="60">
														<p:cellEditor>
															<f:facet name="output">
																<h:outputText
																	value="#{accionista.personanatural.apellidopaterno}" />
															</f:facet>
															<f:facet name="input">
																<p:inputText
																	value="#{accionista.personanatural.apellidomaterno}" />
															</f:facet>
														</p:cellEditor>
													</p:column>
													<p:column headerText="Apellido Materno" width="60">
														<p:cellEditor>
															<f:facet name="output">
																<h:outputText
																	value="#{accionista.personanatural.apellidomaterno}" />
															</f:facet>
															<f:facet name="input">
																<p:inputText
																	value="#{accionista.personanatural.apellidomaterno}" />
															</f:facet>
														</p:cellEditor>
													</p:column>
													<p:column headerText="Nombres" width="100">
														<p:cellEditor>
															<f:facet name="output">
																<h:outputText
																	value="#{accionista.personanatural.nombres}" />
															</f:facet>
															<f:facet name="input">
																<p:inputText
																	value="#{accionista.personanatural.nombres}" />
															</f:facet>
														</p:cellEditor>
													</p:column>
													<p:column headerText="Porcentaje" width="100">
														<p:cellEditor>
															<f:facet name="output">
																<h:outputText
																	value="#{accionista.porcentajeparticipacion}" />
															</f:facet>
															<f:facet name="input">
																<p:inputText
																	value="#{accionista.porcentajeparticipacion}" />
															</f:facet>
														</p:cellEditor>
													</p:column>
													<p:column width="10">
														<p:rowEditor />
													</p:column>
												</p:dataTable>
											</div>
										</td>
									</tr>
								</table>
							</div>
							<div class="sf-buttons">
								<p:commandButton value="Aceptar" update=":#{componentToUpdated}"
									oncomplete="#{componentName}.hide()" styleClass="action green" />
								<p:commandButton value="Cancelar"
									onclick="#{componentName}.hide()" styleClass="action" />
							</div>
						</div>
					</div>
				</p:tab>

			</p:tabView>
		</p:dialog>
	</h:form>

</ui:composition>
</html>

